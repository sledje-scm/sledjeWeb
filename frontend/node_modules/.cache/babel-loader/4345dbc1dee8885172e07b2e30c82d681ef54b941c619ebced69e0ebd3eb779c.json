{"ast":null,"code":"var _jsxFileName = \"/home/someone_practicing/prac/sledjeWeb/frontend/src/pages/Orders.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Orders = ({\n  retailerId\n}) => {\n  _s();\n  const [orders, setOrders] = useState({\n    pending: [],\n    onWay: [],\n    completed: []\n  });\n  const [activeTab, setActiveTab] = useState(\"pending\");\n  const fetchOrders = async () => {\n    try {\n      const res = await axios.get(`/api/orders/retailer/${retailerId}`);\n      setOrders({\n        pending: res.data.pending,\n        onWay: res.data.onWay,\n        completed: res.data.completed\n      });\n    } catch (error) {\n      console.error(\"Failed to fetch orders\", error);\n    }\n  };\n  useEffect(() => {\n    fetchOrders();\n  }, []);\n  const handleQuantityChange = async (orderId, newQuantity) => {\n    try {\n      await axios.patch(`/api/orders/${orderId}`, {\n        quantity: newQuantity\n      });\n      fetchOrders();\n    } catch (error) {\n      console.error(\"Failed to update quantity\", error);\n    }\n  };\n  const confirmDelivery = async orderId => {\n    try {\n      await axios.patch(`/api/orders/${orderId}/confirm`);\n      fetchOrders();\n    } catch (error) {\n      console.error(\"Failed to confirm delivery\", error);\n    }\n  };\n  const renderOrder = (order, isEditable) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 border mb-2 rounded shadow\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Product:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 16\n          }, this), \" \", order.productName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Distributor:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 16\n          }, this), \" \", order.distributorName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Status:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 16\n          }, this), \" \", order.status]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: order.quantity,\n          disabled: !isEditable,\n          onChange: e => handleQuantityChange(order._id, parseInt(e.target.value)),\n          className: \"border rounded px-2 py-1 w-20\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), order.status === \"on way\" && order.canConfirmDelivery && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => confirmDelivery(order._id),\n      className: \"mt-2 bg-green-500 text-white px-4 py-1 rounded\",\n      children: \"Confirm Delivery\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this)]\n  }, order._id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n  const TabButton = ({\n    tabId,\n    label\n  }) => /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: () => setActiveTab(tabId),\n    className: \"flex-1 text-center px-4 py-2 font-medium transition relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: `$\n          {activeTab === tabId\n            ? \"text-blue-800 font-semibold\"\n            : \"text-gray-600 hover:text-gray-800\"}\n        `,\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `absolute bottom-0 left-0 right-0 h-1 rounded-full transition-all duration-700 $\n          {activeTab === tabId ? \"bg-blue-600\" : \"bg-transparent\"}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex border-b mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(TabButton, {\n        tabId: \"pending\",\n        label: \"Pending Orders\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabButton, {\n        tabId: \"onWay\",\n        label: \"On Way\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabButton, {\n        tabId: \"completed\",\n        label: \"Completed Orders\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), activeTab === \"pending\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: orders.pending.map(order => renderOrder(order, true))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }, this), activeTab === \"onWay\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: orders.onWay.map(order => renderOrder(order, false))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, this), activeTab === \"completed\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: orders.completed.map(order => renderOrder(order, false))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n};\n_s(Orders, \"ewTQ71mcRupiJffIxzo/Uk8oHSM=\");\n_c = Orders;\nexport default OrdersPage;\nvar _c;\n$RefreshReg$(_c, \"Orders\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","Orders","retailerId","_s","orders","setOrders","pending","onWay","completed","activeTab","setActiveTab","fetchOrders","res","get","data","error","console","handleQuantityChange","orderId","newQuantity","patch","quantity","confirmDelivery","renderOrder","order","isEditable","className","children","fileName","_jsxFileName","lineNumber","columnNumber","productName","distributorName","status","type","value","disabled","onChange","e","_id","parseInt","target","canConfirmDelivery","onClick","TabButton","tabId","label","map","_c","OrdersPage","$RefreshReg$"],"sources":["/home/someone_practicing/prac/sledjeWeb/frontend/src/pages/Orders.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst Orders = ({ retailerId }) => {\n  const [orders, setOrders] = useState({\n    pending: [],\n    onWay: [],\n    completed: [],\n  });\n  const [activeTab, setActiveTab] = useState(\"pending\");\n\n  const fetchOrders = async () => {\n    try {\n      const res = await axios.get(`/api/orders/retailer/${retailerId}`);\n      setOrders({\n        pending: res.data.pending,\n        onWay: res.data.onWay,\n        completed: res.data.completed,\n      });\n    } catch (error) {\n      console.error(\"Failed to fetch orders\", error);\n    }\n  };\n\n  useEffect(() => {\n    fetchOrders();\n  }, []);\n\n  const handleQuantityChange = async (orderId, newQuantity) => {\n    try {\n      await axios.patch(`/api/orders/${orderId}`, { quantity: newQuantity });\n      fetchOrders();\n    } catch (error) {\n      console.error(\"Failed to update quantity\", error);\n    }\n  };\n\n  const confirmDelivery = async (orderId) => {\n    try {\n      await axios.patch(`/api/orders/${orderId}/confirm`);\n      fetchOrders();\n    } catch (error) {\n      console.error(\"Failed to confirm delivery\", error);\n    }\n  };\n\n  const renderOrder = (order, isEditable) => (\n    <div key={order._id} className=\"p-4 border mb-2 rounded shadow\">\n      <div className=\"flex justify-between\">\n        <div>\n          <div><strong>Product:</strong> {order.productName}</div>\n          <div><strong>Distributor:</strong> {order.distributorName}</div>\n          <div><strong>Status:</strong> {order.status}</div>\n        </div>\n        <div>\n          <input\n            type=\"number\"\n            value={order.quantity}\n            disabled={!isEditable}\n            onChange={(e) => handleQuantityChange(order._id, parseInt(e.target.value))}\n            className=\"border rounded px-2 py-1 w-20\"\n          />\n        </div>\n      </div>\n      {order.status === \"on way\" && order.canConfirmDelivery && (\n        <button\n          onClick={() => confirmDelivery(order._id)}\n          className=\"mt-2 bg-green-500 text-white px-4 py-1 rounded\"\n        >\n          Confirm Delivery\n        </button>\n      )}\n    </div>\n  );\n\n  const TabButton = ({ tabId, label }) => (\n    <button\n      onClick={() => setActiveTab(tabId)}\n      className=\"flex-1 text-center px-4 py-2 font-medium transition relative\"\n    >\n      <span\n        className={`$\n          {activeTab === tabId\n            ? \"text-blue-800 font-semibold\"\n            : \"text-gray-600 hover:text-gray-800\"}\n        `}\n      >\n        {label}\n      </span>\n      <div\n        className={`absolute bottom-0 left-0 right-0 h-1 rounded-full transition-all duration-700 $\n          {activeTab === tabId ? \"bg-blue-600\" : \"bg-transparent\"}`}\n      />\n    </button>\n  );\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"flex border-b mb-4\">\n        <TabButton tabId=\"pending\" label=\"Pending Orders\" />\n        <TabButton tabId=\"onWay\" label=\"On Way\" />\n        <TabButton tabId=\"completed\" label=\"Completed Orders\" />\n      </div>\n\n      {activeTab === \"pending\" && (\n        <div>\n          {orders.pending.map((order) => renderOrder(order, true))}\n        </div>\n      )}\n\n      {activeTab === \"onWay\" && (\n        <div>\n          {orders.onWay.map((order) => renderOrder(order, false))}\n        </div>\n      )}\n\n      {activeTab === \"completed\" && (\n        <div>\n          {orders.completed.map((order) => renderOrder(order, false))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default OrdersPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}