{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _typeof2 = require('babel-runtime/helpers/typeof');\nvar _typeof3 = _interopRequireDefault(_typeof2);\nvar _extends2 = require('babel-runtime/helpers/extends');\nvar _extends3 = _interopRequireDefault(_extends2);\nvar _util = require('./util');\nvar _constants = require('./constants');\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nvar getNumber = function getNumber(region) {\n  var sum = 0;\n  var decimalReached = false;\n  var decimalUnits = [];\n  region.subRegions.forEach(function (subRegion) {\n    var tokens = subRegion.tokens;\n    var type = subRegion.type;\n    var subRegionSum = 0;\n    if (type === _constants.TOKEN_TYPE.DECIMAL) {\n      decimalReached = true;\n      return;\n    }\n    if (decimalReached) {\n      decimalUnits.push(subRegion);\n      return;\n    }\n    switch (type) {\n      case _constants.TOKEN_TYPE.MAGNITUDE:\n      case _constants.TOKEN_TYPE.HUNDRED:\n        {\n          var _ret = function () {\n            subRegionSum = 1;\n            var tokensCount = tokens.length;\n            tokens.reduce(function (acc, token, i) {\n              if (token.type === _constants.TOKEN_TYPE.HUNDRED) {\n                var _ret2 = function () {\n                  var tokensToAdd = tokensCount - 1 ? tokens.slice(i + 1) : [];\n                  tokensToAdd = tokensToAdd.filter(function (tokenToAdd, j) {\n                    return j === 0 || tokensToAdd[j - 1].type > tokenToAdd.type;\n                  });\n                  var tokensToAddSum = tokensToAdd.reduce(function (acc2, tokenToAdd) {\n                    return acc2 + _constants.NUMBER[tokenToAdd.lowerCaseValue];\n                  }, 0);\n                  return {\n                    v: acc.concat((0, _extends3.default)({}, tokens[i + 1], {\n                      numberValue: tokensToAddSum + _constants.NUMBER[token.lowerCaseValue] * 100\n                    }))\n                  };\n                }();\n                if ((typeof _ret2 === 'undefined' ? 'undefined' : (0, _typeof3.default)(_ret2)) === \"object\") return _ret2.v;\n              }\n              if (i > 0 && tokens[i - 1].type === _constants.TOKEN_TYPE.HUNDRED) return acc;\n              if (i > 1 && tokens[i - 1].type === _constants.TOKEN_TYPE.TEN && tokens[i - 2].type === _constants.TOKEN_TYPE.HUNDRED) return acc;\n              return acc.concat({\n                token: token,\n                numberValue: _constants.NUMBER[token.lowerCaseValue]\n              });\n            }, []).forEach(function (_ref) {\n              var numberValue = _ref.numberValue;\n              subRegionSum *= numberValue;\n            });\n            return 'break';\n          }();\n          if (_ret === 'break') break;\n        }\n      case _constants.TOKEN_TYPE.UNIT:\n      case _constants.TOKEN_TYPE.TEN:\n        {\n          tokens.forEach(function (token) {\n            subRegionSum += _constants.NUMBER[token.lowerCaseValue];\n          });\n          break;\n        }\n      // no default\n    }\n    sum += subRegionSum;\n  });\n  var currentDecimalPlace = 1;\n  decimalUnits.forEach(function (_ref2) {\n    var tokens = _ref2.tokens;\n    tokens.forEach(function (_ref3) {\n      var lowerCaseValue = _ref3.lowerCaseValue;\n      sum += _constants.NUMBER[lowerCaseValue] / Math.pow(10, currentDecimalPlace);\n      currentDecimalPlace += 1;\n    });\n  });\n  return sum;\n};\nvar replaceRegionsInText = function replaceRegionsInText(regions, text) {\n  var replaced = text;\n  var offset = 0;\n  regions.forEach(function (region) {\n    var length = region.end - region.start + 1;\n    var replaceWith = '' + getNumber(region);\n    replaced = (0, _util.splice)(replaced, region.start + offset, length, replaceWith);\n    offset -= length - replaceWith.length;\n  });\n  return replaced;\n};\nexports.default = function (_ref4) {\n  var regions = _ref4.regions;\n  var text = _ref4.text;\n  if (!regions) return text;\n  if (regions[0].end - regions[0].start === text.length - 1) return getNumber(regions[0]);\n  return replaceRegionsInText(regions, text);\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","_typeof2","require","_typeof3","_interopRequireDefault","_extends2","_extends3","_util","_constants","obj","__esModule","default","getNumber","region","sum","decimalReached","decimalUnits","subRegions","forEach","subRegion","tokens","type","subRegionSum","TOKEN_TYPE","DECIMAL","push","MAGNITUDE","HUNDRED","_ret","tokensCount","length","reduce","acc","token","i","_ret2","tokensToAdd","slice","filter","tokenToAdd","j","tokensToAddSum","acc2","NUMBER","lowerCaseValue","v","concat","numberValue","TEN","_ref","UNIT","currentDecimalPlace","_ref2","_ref3","Math","pow","replaceRegionsInText","regions","text","replaced","offset","end","start","replaceWith","splice","_ref4"],"sources":["/home/someone_practicing/prac/sledjeWeb/frontend/node_modules/words-to-numbers/dist/compiler.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _util = require('./util');\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar getNumber = function getNumber(region) {\n  var sum = 0;\n  var decimalReached = false;\n  var decimalUnits = [];\n  region.subRegions.forEach(function (subRegion) {\n    var tokens = subRegion.tokens;\n    var type = subRegion.type;\n\n    var subRegionSum = 0;\n    if (type === _constants.TOKEN_TYPE.DECIMAL) {\n      decimalReached = true;\n      return;\n    }\n    if (decimalReached) {\n      decimalUnits.push(subRegion);\n      return;\n    }\n    switch (type) {\n      case _constants.TOKEN_TYPE.MAGNITUDE:\n      case _constants.TOKEN_TYPE.HUNDRED:\n        {\n          var _ret = function () {\n            subRegionSum = 1;\n            var tokensCount = tokens.length;\n            tokens.reduce(function (acc, token, i) {\n              if (token.type === _constants.TOKEN_TYPE.HUNDRED) {\n                var _ret2 = function () {\n                  var tokensToAdd = tokensCount - 1 ? tokens.slice(i + 1) : [];\n                  tokensToAdd = tokensToAdd.filter(function (tokenToAdd, j) {\n                    return j === 0 || tokensToAdd[j - 1].type > tokenToAdd.type;\n                  });\n                  var tokensToAddSum = tokensToAdd.reduce(function (acc2, tokenToAdd) {\n                    return acc2 + _constants.NUMBER[tokenToAdd.lowerCaseValue];\n                  }, 0);\n                  return {\n                    v: acc.concat((0, _extends3.default)({}, tokens[i + 1], {\n                      numberValue: tokensToAddSum + _constants.NUMBER[token.lowerCaseValue] * 100\n                    }))\n                  };\n                }();\n\n                if ((typeof _ret2 === 'undefined' ? 'undefined' : (0, _typeof3.default)(_ret2)) === \"object\") return _ret2.v;\n              }\n              if (i > 0 && tokens[i - 1].type === _constants.TOKEN_TYPE.HUNDRED) return acc;\n              if (i > 1 && tokens[i - 1].type === _constants.TOKEN_TYPE.TEN && tokens[i - 2].type === _constants.TOKEN_TYPE.HUNDRED) return acc;\n              return acc.concat({ token: token, numberValue: _constants.NUMBER[token.lowerCaseValue] });\n            }, []).forEach(function (_ref) {\n              var numberValue = _ref.numberValue;\n\n              subRegionSum *= numberValue;\n            });\n            return 'break';\n          }();\n\n          if (_ret === 'break') break;\n        }\n      case _constants.TOKEN_TYPE.UNIT:\n      case _constants.TOKEN_TYPE.TEN:\n        {\n          tokens.forEach(function (token) {\n            subRegionSum += _constants.NUMBER[token.lowerCaseValue];\n          });\n          break;\n        }\n      // no default\n    }\n    sum += subRegionSum;\n  });\n\n  var currentDecimalPlace = 1;\n  decimalUnits.forEach(function (_ref2) {\n    var tokens = _ref2.tokens;\n\n    tokens.forEach(function (_ref3) {\n      var lowerCaseValue = _ref3.lowerCaseValue;\n\n      sum += _constants.NUMBER[lowerCaseValue] / Math.pow(10, currentDecimalPlace);\n      currentDecimalPlace += 1;\n    });\n  });\n\n  return sum;\n};\n\nvar replaceRegionsInText = function replaceRegionsInText(regions, text) {\n  var replaced = text;\n  var offset = 0;\n  regions.forEach(function (region) {\n    var length = region.end - region.start + 1;\n    var replaceWith = '' + getNumber(region);\n    replaced = (0, _util.splice)(replaced, region.start + offset, length, replaceWith);\n    offset -= length - replaceWith.length;\n  });\n  return replaced;\n};\n\nexports.default = function (_ref4) {\n  var regions = _ref4.regions;\n  var text = _ref4.text;\n\n  if (!regions) return text;\n  if (regions[0].end - regions[0].start === text.length - 1) return getNumber(regions[0]);\n  return replaceRegionsInText(regions, text);\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}